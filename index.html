<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curiosity Club</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="left-up-header-wrapper">
        <div id="left-up-header">
          <img id="home-button" style="width: 30%; height: auto; transform: translate(200px, 220px); position: relative;" src="public/Images/homesvg.svg">
          <img id="news-button" style="width: 13%; height: auto; transform: translate(50px, 250px); position: relative;" src="public/Images/newssvg.svg">
        </div>
    </div>
    <div id="background"></div>
    <div id="main-wrapper">
        <div id="main">
            <div style="display: flex; align-items: center; margin-right: 5%; margin-left: 5%; margin-top: 5%; transform: translateY(3vh);">
              <img src="./public/Images/curioLogo.png" style="width: 20vw;" />
              <div style="display: flex; flex-direction: column; transform: translateY(-20px);">
                <h1 style="font-size: clamp(1rem, 10vw, 6rem); height: 2vw;">
                  Curiosity
                </h1>
                <h3 style="font-size: clamp(0.8rem, 3vw, 2rem);">
                  Ãœber concordia, Ivi victoria
                </h3>
              </div>
            </div>
            <div style="margin-right: 10%; margin-left: 10%; margin-top: 2%; transform: translateY(3vh);">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </div>
            <div style="height: 100px;">
            </div>
            <div id="news-title" style="position: absolute; width: 30vw; background-color: rgba(184, 214, 240, 0.737); z-index: 1; min-width: 250px;">
              <h1 style="margin: 10px; font-size: clamp(1rem, 5vw, 3rem);">Lorem ipsum</h1>
              <div id="title-text" style="display: flex; flex-direction: column; align-items: center; gap: 20px; margin-bottom: 20px;">
                <div>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo id sit minima distinctio, magni natus dolorem? Incidunt consequuntur nam quaerat, modi, aliquid sunt, reprehenderit cupiditate illo sapiente voluptatum repellendus delectus?
                </div>
                <div>
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit. Esse doloribus natus alias culpa tempora illo delectus voluptatem temporibus, itaque, ut impedit beatae, perspiciatis repellendus tenetur? Voluptatibus, iusto eveniet. Reprehenderit, reiciendis?
                </div>
              </div>
            </div>
            <div id="news-drop-page" style="width: 100%; margin-left: 0px; margin-right: 0px; display: flex; align-items: center; justify-content: center;">
              <div style="margin-left: 0px; height: 80%; width: calc(100% * 1.068); rotate: -5deg; flex-shrink: 0; display: flex; justify-content: center;">
                <div id="news-mover">

                </div>
              </div>          
            </div>
            <div style="display: flex; justify-content: space-between; transform: translateY(-50vh); height: 0px;">
              <button class="news-button" id="news-button-left"></button>
              <button class="news-button" id="news-button-right"></button>
            </div>
            <br/>
            <div id="themes" style="display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-start; margin-left: 5%;">
              <div class="theme">
                <h1 style="display: flex; align-items: center;">
                  Quienes somos
                  <button class="dropdown-button">
                    <img src="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23242424'%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20330%20330'%20xml:space='preserve'%3e%3cpath%20id='XMLID_222_'%20transform='rotate(180,%20165,%20165)'%20d='M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001%20c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213%20C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606%20C255,161.018,253.42,157.202,250.606,154.389z'/%3e%3c/svg%3e" style="height: 50px;"/>
                  </button>
                </h1>
                <div class="theme-text">
                  Lorem ipsum dolor, sit amet consectetur adipisicing elit. Accusantium ex nulla dignissimos neque eveniet inventore vitae est error voluptatibus? Id quae sunt autem nihil soluta voluptates nisi. Ea, porro voluptatem!
                </div>
              </div>
              <div class="theme">
                <h1 style="display: flex; align-items: center;">
                  Quienes somos
                  <button class="dropdown-button">
                    <img src="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23242424'%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20330%20330'%20xml:space='preserve'%3e%3cpath%20id='XMLID_222_'%20transform='rotate(180,%20165,%20165)'%20d='M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001%20c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213%20C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606%20C255,161.018,253.42,157.202,250.606,154.389z'/%3e%3c/svg%3e" style="height: 50px;"/>
                  </button>
                </h1>
                <div class="theme-text">
                  Lorem ipsum dolor, sit amet consectetur adipisicing elit. Accusantium ex nulla dignissimos neque eveniet inventore vitae est error voluptatibus? Id quae sunt autem nihil soluta voluptates nisi. Ea, porro voluptatem!
                </div>
              </div>
              <div class="theme" style="margin-bottom: 5vh;">
                <h1 style="display: flex; align-items: center;">
                  Quienes somos
                  <button class="dropdown-button">
                    <img src="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23242424'%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20330%20330'%20xml:space='preserve'%3e%3cpath%20id='XMLID_222_'%20transform='rotate(180,%20165,%20165)'%20d='M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001%20c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213%20C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606%20C255,161.018,253.42,157.202,250.606,154.389z'/%3e%3c/svg%3e" style="height: 50px;"/>
                  </button>
                </h1>
                <div class="theme-text">
                  Lorem ipsum dolor, sit amet consectetur adipisicing elit. Accusantium ex nulla dignissimos neque eveniet inventore vitae est error voluptatibus? Id quae sunt autem nihil soluta voluptates nisi. Ea, porro voluptatem!
                </div>
              </div>
            </div>
        </div>
      </div>
      <br><br><br>  
    <!-- Script section -->
    <script>
        const bg = document.querySelector('#background')
      
        window.addEventListener('scroll', () => {
          const currentScrollPosition = window.pageYOffset + 200;
          bg.style.transform = "translateY(-"+currentScrollPosition*0.4+"px)"
      
        });
        const currentScrollPosition = window.pageYOffset + 200;
        bg.style.transform = "translateY(-"+currentScrollPosition*0.4+"px)"

        document.querySelector("#main-wrapper").height = document.querySelector("#main").scrollHeight + "px"
      
        const newsRight = document.querySelector('#news-button-right')
        const newsLeft = document.querySelector('#news-button-left')
        const newsMover = document.querySelector('#news-mover')
        var newLookingAt = 0

        const lorem = "Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo id sit minima distinctio, magni natus dolorem? Incidunt consequuntur nam quaerat, modi, aliquid sunt, reprehenderit cupiditate illo sapiente voluptatum repellendus delectus?"
        const news = [
          {
            "title": "SampleNew",
            "text": [lorem, lorem]
          },
          {
            "title": "SampleNewCopy",
            "text": [lorem, lorem]
          }
        ];

        function navigateToNewsWithParams(title) {
            window.location.href = `news.html?title=${title}`;
        }

        news.forEach(element => {
          const newsDiv = `<div class="news-prompt" style="margin: 0;">
                            <div class="image-holder-news" style="margin: 0; transform: rotate(5deg); height: 100vh; width: 100vw; min-width: 50vh; background-image: url(${"News/"+element["title"]+"/ImageCarousel/Preview.jpg"}); background-size: cover; background-repeat: no-repeat; background-position: center;">
                            </div>
                          </div>`;

          newsMover.insertAdjacentHTML("beforeend", newsDiv);

          const lastNewsDiv = newsMover.querySelector(".news-prompt:last-child");

          lastNewsDiv.addEventListener("click", () => {
            navigateToNewsWithParams(element["title"])
          });
        });

        // Setting up header buttons ------------------------------------------

        document.querySelector("#home-button").addEventListener("click", () => {
          window.location.href = "index.html"
        })

        document.querySelector("#news-button").addEventListener("click", () => {
          window.location.href = "newsBrowser.html"
        })

        //---------------------------------------------------------------------

        const newsCount = document.querySelectorAll(".news-prompt").length
        const newsTitle = document.getElementById('news-title');

        function changeNews() {
          // Get references to the elements
          const newsTitle = document.getElementById('news-title');
          const titleText = newsTitle.querySelector('#title-text');
          
          // Get the selected news item
          const selectedNews = news[newLookingAt];
          
          // Set the h1 inside #news-title to the title of the selected news item
          const h1 = newsTitle.querySelector('h1');
          h1.textContent = selectedNews.title;
          
          // Remove all existing divs inside #title-text
          titleText.innerHTML = ''; // Clears all content inside #title-text
          
          // Create a new div for each text entry in the selected news item
          selectedNews.text.forEach(textContent => {
            const div = document.createElement('div');
            div.textContent = textContent;
            titleText.appendChild(div);
          });
        }
      
      
        newsRight.addEventListener("click", () => {
          newLookingAt++
          if (newLookingAt >= newsCount) { newLookingAt = 0 }
          changeNews()
          newsMover.style.transform = "translateX(-"+95*newLookingAt+"vw)"
        })
        newsLeft.addEventListener("click", () => {
          newLookingAt--
          if (newLookingAt < 0) { newLookingAt = newsCount-1 }
          changeNews()
          newsMover.style.transform = "translateX(-"+95*newLookingAt+"vw)"
        })
      
        // On mouse enter, set the height to the scrollHeight of the element
        newsTitle.addEventListener('mouseenter', function() {
            this.style.height = this.scrollHeight + 'px';
        });
      
        // On mouse leave, reset the height to the initial 30vh
        newsTitle.addEventListener('mouseleave', function() {
            this.style.height = '30vh';
        });
      
        const themes = document.querySelectorAll(".theme")
        themes.forEach(element => {
          let open = false
          const button = element.querySelector(".dropdown-button")
      
          button.addEventListener("click", () => {
            if (open) {
              button.querySelector("img").style.rotate = ""
              element.querySelector(".theme-text").style.height = ""
            } else {
              button.querySelector("img").style.rotate = "-90deg"
              element.querySelector(".theme-text").style.height = element.querySelector(".theme-text").scrollHeight + "px"
            }
            open = !open
          })
        });
      </script>
</body>
</html>
